<container-back>
<div class="container mt-5">
 <div class="banner position-relative d-flex align-items-center text-white text-center"
       style="background: linear-gradient(rgba(0, 0, 0, 0.6), rgba(0, 0, 0, 0.6)),
              url('https://images.unsplash.com/photo-1566808907623-51b8fc382454?q=80&w=2940&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D');
              background-size: cover; background-position: center; height: 60vh;">

    <div class="container">
      <div class="row justify-content-center">
        <div class="col-md-8">
          <h1 class="display-3 fw-bold">AirBandB – L'expérience musicale sans limite !</h1>
          <p class="fs-4 fst-italic">Des concerts ? Non. Des expériences inoubliables !</p>

          <div class="mt-4">
            <button class="btn btn-lg btn-purple rounded-pill px-4 shadow" data-bs-toggle="modal" data-bs-target="#experienceModal" data: { turbo: false }>
              Proposer une expérience 🎤
            </button>

            <%= link_to "Explorer les expériences 🤩", experiences_path,
                        class: "btn btn-lg btn-purple rounded-pill px-4 ms-2 shadow" %>
          </div>
        </div>
      </div>
    </div>
  </div>

<%= render "shared/form_modal" %>

  <div class="text-center mt-5">
    <h2 class="fw-bold mt-3">🔥 Déjà <%= Experience.count %> expériences musicales délirantes enregistrées ! 🔥</h2>
  </div>

 <div class="row">
  <% @experiences.first(3).each do |experience| %>
    <div class="col-12 col-md-6 col-lg-4 mb-4">
      <div class="experiences_card">
        <%= link_to experience_path(experience), class: "text-decoration-none text-dark" do %>
          <% if experience.photo.attached? %>
            <div class="text-center">
              <%= image_tag experience.photo, alt: "Image de l'expérience", class: "img-fluid rounded shadow-lg" %>
            </div>
          <% else %>
            <p class="text-muted text-center">Aucune photo disponible pour cette expérience.</p>
          <% end %>

          <h4 class="mt-3"><%= experience.name %></h4>
          <p class="mt-1 ms-2 text-muted fst-italic text-center">🎭 <%= experience.stage_name %></p>

          <div class="experiences_body">
            <p><i class="fa-solid fa-music"></i> <%= experience.musical_genre %></p>
            <p><i class="fa-solid fa-star"></i> <%= experience.absurd_requirement %></p>
            <p><i class="fa-solid fa-euro-sign"></i> <%= experience.price_per_day %>€/jour</p>
          </div>
        <% end %>
      </div>
    </div>
  <% end %>
</div>
</div>
<div class="text-center mt-5">
  <h2 class="fw-bold text-uppercase mt-5">🎲 Pas inspiré ? Tire au sort une expérience musicale !</h2>
  <%= link_to "🎲 Découvrir une expérience aléatoire", experience_path(Experience.order("RANDOM()").first),
              class: "btn btn-warning btn-lg btn-purple btn-purple-dark mt-3 rounded-pill shadow", id: "hel"%>
</div>



</container-back>
<footer class="d-flex flex-column justify-content-center align-items-center text-center py-4 mt-5 bg-dark text-light">
  <p class="m-0">© <%= Time.now.year %> AirBandB. Tous droits réservés.</p>
  <p class="m-0 fst-italic">“Trouvez l’expérience musicale de vos rêves… ou de vos cauchemars.”</p>
</footer>
